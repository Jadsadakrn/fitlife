/* =========================================
   FITNESS TRACKER - UNIFIED STYLES
   เวอร์ชันรวม ไม่มีโค้ดซ้ำ/ชนกัน
   ========================================= */

/* --- 1. ROOT VARIABLES & RESET --- */
:root{
  /* Palette */
  --primary: #22c55e;
  --primary-2: #16a34a;
  --dark: #0f172a;
  --light: #f6f7fb;
  --white: #ffffff;

  /* Surfaces */
  --glass: rgba(255,255,255,.72);
  --card: rgba(255,255,255,.86);
  --stroke: rgba(15,23,42,.08);
  --muted: rgba(15,23,42,.62);

  /* Shadows + radius */
  --shadow-sm: 0 10px 24px rgba(15,23,42,.06);
  --shadow-md: 0 18px 52px rgba(15,23,42,.10);
  --shadow-lg: 0 30px 90px rgba(15,23,42,.14);

  /* Backward-compat */
  --shadow: var(--shadow-sm);
  --radius: 12px;

  --radius-lg: 22px;
  --radius-md: 18px;
  --radius-sm: 14px;
}



* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: 'Kanit', 'Poppins', sans-serif;
}

body {
  background-color: var(--light);
  color: var(--dark);
  height: 100vh;
  display: flex;
  flex-direction: column; /* ✅ เมนูอยู่แถวบน */
  overflow: hidden;
}

/* --- 2. SCROLLBAR STYLING --- */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: #ccc;
  border-radius: 10px;
  transition: 0.3s;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--primary);
}

/* --- 3. SIDEBAR --- */
.sidebar {
  /* ✅ เปลี่ยนจาก Sidebar ซ้าย → Top Nav แถวบน (จัดกลาง) */
  width: 100%;
  height: 72px;
  background: rgba(255, 255, 255, 0.95);
  display: grid;
  grid-template-columns: 1fr auto 1fr; /* ซ้ายว่าง | กลาง (โลโก้+เมนู) | ขวาว่าง */
  align-items: center;
  padding: 10px 16px;
  box-shadow: var(--shadow);
  z-index: 20;
  position: sticky;
  top: 0;
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.6);
}

.nav-left{
  display: flex;
  align-items: center;
  justify-content: flex-start;
  gap: 10px;
}
.nav-right{
  display: flex;
  align-items: center;
  justify-content: flex-end; /* ทำให้ชิดขวา */
  gap: 10px;
}

.nav-center {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  padding: 0 6px;
}

/* ซ่อน scrollbar ของเมนู (ยังเลื่อนได้) */
.nav-center::-webkit-scrollbar { height: 0; }

.brand-logo {
  font-size: 24px;
  color: var(--primary);
  margin: 0 10px 0 2px;
  flex: 0 0 auto;
}

.nav-btn {
  border: none;
  background: none;
  width: 50px;
  height: 50px;
  border-radius: 12px;
  margin: 0;
  color: #aaa;
  font-size: 18px;
  cursor: pointer;
  transition: 0.3s;
  position: relative;
  overflow: hidden;
}

.nav-btn:hover {
  background-color: #E8F5E9;
  color: var(--primary);
}

.nav-btn.active {
  background: linear-gradient(135deg, var(--primary) 0%, #2E7D32 100%);
  color: white;
  box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
}

.nav-btn.active::after {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 50%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
  transform: skewX(-20deg);
  animation: shine 3s infinite;
}

@keyframes shine {
  0% { left: -100%; }
  20% { left: 200%; }
  100% { left: 200%; }
}

/* --- Top Nav Tooltip (Hover) --- */
.nav-btn .tooltip {
  position: absolute;
  top: calc(100% + 10px);
  left: 50%;
  transform: translateX(-50%) translateY(-6px);
  opacity: 0;
  pointer-events: none;
  white-space: nowrap;
  padding: 8px 12px;
  border-radius: 12px;
  font-size: 12px;
  font-weight: 600;
  color: #fff;
  background: rgba(46, 59, 85, 0.95);
  box-shadow: 0 10px 25px rgba(0,0,0,0.15);
  transition: 0.18s ease;
  z-index: 999;
}

.nav-btn .tooltip::before {
  content: '';
  position: absolute;
  left: 50%;
  top: -6px;
  transform: translateX(-50%);
  border-width: 6px;
  border-style: solid;
  border-color: transparent transparent rgba(46, 59, 85, 0.95) transparent;
}

.nav-btn:hover .tooltip,
.nav-btn:focus-visible .tooltip {
  opacity: 1;
  transform: translateX(-50%) translateY(0);
}

@media (max-width: 768px) {
  .nav-btn .tooltip { display: none; }
}

/* --- 4. MAIN CONTENT --- */
.main-content {
  flex: 1;
  padding: 30px;
  overflow-y: auto;
}

.page {
  display: none;
  animation: fadeIn 0.4s;
}

.page.active {
  display: block;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

/* --- 5. TYPOGRAPHY --- */
h1 { 
  margin-bottom: 5px;
  letter-spacing: -0.5px;
  color: var(--dark);
}

h2, h3, h4 {
  letter-spacing: -0.5px;
  color: var(--dark);
}

p { 
  color: #666; 
  font-size: 14px; 
  margin-bottom: 20px; 
}

/* --- 6. BASIC CARDS --- */
.card {
  background: rgba(255, 255, 255, 0.95);
  padding: 20px;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  text-align: center;
  transition: 0.3s;
  cursor: pointer;
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.6);
}

.card:hover { 
  transform: translateY(-3px); 
  box-shadow: 0 8px 15px rgba(0,0,0,0.1);
}

.card i {
  font-size: 32px;
  color: var(--primary);
  margin-bottom: 15px;
  display: block;
}

.card-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 20px;
  margin-top: 20px;
}

/* --- 7. DASHBOARD LAYOUT --- */
.dashboard-header {
  display: flex;
  justify-content: space-between;
  margin-bottom: 25px;
  align-items: flex-end;
}

.dashboard-layout {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
}

.dashboard-section {
  background: rgba(255, 255, 255, 0.95);
  padding: 20px;
  border-radius: 15px;
  margin-bottom: 20px;
  box-shadow: var(--shadow);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.6);
}

.dashboard-section h3 {
  margin-bottom: 15px;
  color: var(--dark);
  border-bottom: 2px solid #f0f0f0;
  padding-bottom: 10px;
}

/* --- 8. BMI CARD (Main Stat Card) --- */
.main-stat-card {
  background: rgba(255, 255, 255, 0.95);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 30px;
  position: relative;
  min-height: 320px;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.6);
}

.bmi-circle-container {
  position: relative;
  width: 150px;
  height: 150px;
  margin: 20px 0;
}

.bmi-circle {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  background: conic-gradient(#eee 0% 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background 0.5s ease;
  box-shadow: inset 0 0 20px rgba(0,0,0,0.1), 0 10px 30px rgba(0,0,0,0.1);
}

.inner-circle {
  width: 85%;
  height: 85%;
  background: radial-gradient(circle at 30% 30%, #fff, #f4f7f6);
  border-radius: 50%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  box-shadow: inset 0 0 10px rgba(0,0,0,0.05);
}

#bmi-score-big {
  font-size: 32px;
  font-weight: bold;
  color: var(--dark);
  line-height: 1;
}

.status-badge {
  background: #eee;
  padding: 5px 15px;
  border-radius: 20px;
  font-weight: 600;
  margin-bottom: 20px;
  font-size: 14px;
}

.bmi-range-bar {
  width: 100%;
  height: 8px;
  background: linear-gradient(90deg, #4ECDC4 0%, #4CAF50 35%, #FFC107 60%, #F44336 100%);
  border-radius: 5px;
  position: relative;
  margin-top: 10px;
}

.range-marker {
  width: 0;
  height: 0;
  border-left: 6px solid transparent;
  border-right: 6px solid transparent;
  border-top: 8px solid var(--dark);
  position: absolute;
  top: -10px;
  left: 0%;
  transform: translateX(-50%);
  transition: left 0.5s;
}

.range-labels {
  display: flex;
  justify-content: space-between;
  width: 100%;
  font-size: 10px;
  color: #999;
  margin-top: 5px;
}

/* --- 9. STATS GRID (Health Stats) --- */
.stats-grid-wrapper {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 15px;
}

.stat-mini {
  display: flex;
  align-items: center;
  padding: 15px;
  text-align: left;
  cursor: default;
  background: rgba(255, 255, 255, 0.95);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
}

.stat-mini:hover {
  transform: none;
  box-shadow: var(--shadow);
}

.stat-mini .icon-box {
  width: 45px;
  height: 45px;
  border-radius: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-right: 15px;
  font-size: 18px;
  color: white;
}

.icon-box.red { background: #FF6B6B; box-shadow: 0 4px 10px rgba(255, 107, 107, 0.3); }
.icon-box.blue { background: #4ECDC4; box-shadow: 0 4px 10px rgba(78, 205, 196, 0.3); }
.icon-box.green { background: #4CAF50; box-shadow: 0 4px 10px rgba(76, 175, 80, 0.3); }
.icon-box.yellow { background: #FFC107; box-shadow: 0 4px 10px rgba(255, 193, 7, 0.3); }

.stat-mini h4 { margin: 0; font-size: 16px; font-weight: 600; }
.stat-mini small { font-size: 10px; color: #888; display: block; margin-bottom: 2px; }

/* --- 10. STATS ROW (Alternative Layout) --- */
.stats-row {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 20px;
}

.stat-card {
  background: #f8f9fa;
  padding: 15px;
  border-radius: 12px;
  display: flex;
  align-items: center;
  transition: 0.3s;
}

.stat-card:hover {
  transform: translateY(-3px);
  background: #fff;
  box-shadow: 0 5px 15px rgba(0,0,0,0.05);
}

.stat-card.bmi-card {
  background: linear-gradient(135deg, var(--dark) 0%, #4a5568 100%);
  color: white;
}

.stat-icon {
  width: 45px;
  height: 45px;
  border-radius: 10px;
  background: rgba(255,255,255,0.2);
  display: flex;
  align-items: center;
  justify-content: center;
  margin-right: 15px;
  font-size: 20px;
}

.stat-icon.blue { background: #e3f2fd; color: #1976D2; }
.stat-icon.green { background: #e8f5e9; color: #388E3C; }

.stat-info span { font-size: 12px; opacity: 0.8; }
.stat-info h2 { margin: 2px 0; font-size: 24px; }
.stat-card.bmi-card h2 { color: white; }

.status-pill {
  display: inline-block;
  padding: 2px 8px;
  border-radius: 10px;
  font-size: 10px;
  background: rgba(255,255,255,0.2);
  margin-top: 2px;
}

/* --- 11. FOOD PAGE (NUTRITION HERO) --- */
.food-header {
  margin-bottom: 25px;
}

.nutrition-hero {
  background: white;
  border-radius: 24px;
  padding: 30px;
  box-shadow: 0 10px 25px rgba(0,0,0,0.05);
  margin-bottom: 25px;
  position: relative;
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 40px;
}

.edit-target-btn {
  position: absolute;
  top: 8px;   /* จาก 15px → 8px (สูงขึ้น) */
  right: 15px;
  font-size: 0.8rem;
  color: #6B7280;
  background: #F3F4F6;
  padding: 6px 14px;
  border-radius: 20px;
  cursor: pointer;
  transition: all 0.2s;
}
.edit-target-btn:hover {
  background: #E5E7EB;
  color: #111;
}

/* Calorie Ring (Left Side) */
.cal-ring-card {
  flex: 0 0 auto;
  width: 160px;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
}

.cal-circle-outer {
  width: 140px;
  height: 140px;
  border-radius: 50%;
  background: conic-gradient(#3B82F6 0% 70%, #F3F4F6 70% 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 10px;
}

.cal-circle-inner {
  width: 88%;
  height: 88%;
  background: white;
  border-radius: 50%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  box-shadow: inset 0 2px 5px rgba(0,0,0,0.02);
}

.cal-big { font-size: 2.2rem; font-weight: 700; color: #1F2937; line-height: 1; }
.cal-unit { font-size: 0.85rem; color: #9CA3AF; margin-bottom: 4px; }
.cal-remain {
  font-size: 0.75rem;
  color: #EF4444;
  background: #FEF2F2;
  padding: 3px 10px;
  border-radius: 12px;
  font-weight: 600;
}

/* Macro Stats (Right Side) */
.macro-stats-card {
  flex: 1;
  width: 100%;
}

.macro-container {
  width: 100%;
}

.nutrient-row {
  margin-bottom: 18px;
}

.flex-between {
  display: flex;
  justify-content: space-between;
  font-size: 0.95rem;
  color: #4B5563;
  margin-bottom: 8px;
  font-weight: 500;
}

.macro-track {
  width: 100%;
  height: 14px;
  background: #F3F4F6;
  border-radius: 10px;
  overflow: hidden;
}

.macro-fill {
  height: 100%;
  border-radius: 10px;
  transition: width 0.5s ease;
}

.fill-protein { background: linear-gradient(90deg, #0EA5E9, #38BDF8); }
.fill-carbs { background: linear-gradient(90deg, #EC4899, #F472B6); }
.fill-fat { background: linear-gradient(90deg, #F59E0B, #FBBF24); }

/* Legacy Macro Progress Bars */
.macro-item {
  width: 100%;
  margin-bottom: 20px;
}

.macro-header {
  display: flex;
  justify-content: space-between;
  margin-bottom: 8px;
  font-size: 14px;
  font-weight: 500;
}

.macro-header i {
  margin-right: 8px;
}

.m-val small {
  color: #aaa;
  font-size: 12px;
}

.progress-bg {
  width: 100%;
  height: 10px;
  background: #f0f0f0;
  border-radius: 10px;
  overflow: hidden;
}

.progress-fill {
  height: 100%;
  border-radius: 10px;
  transition: width 1s ease;
}

.p-fill { background: linear-gradient(90deg, #4facfe 0%, #00f2fe 100%); box-shadow: 0 2px 10px rgba(79, 172, 254, 0.4); }
.c-fill { background: linear-gradient(90deg, #ff9a9e 0%, #fecfef 100%); box-shadow: 0 2px 10px rgba(255, 154, 158, 0.4); }
.f-fill { background: linear-gradient(90deg, #f6d365 0%, #fda085 100%); box-shadow: 0 2px 10px rgba(253, 160, 133, 0.4); }

/* --- 12. FOOD PLAYLIST --- */
.food-log-section h3 {
  margin-bottom: 15px;
  font-size: 18px;
}

.food-playlist {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.food-card-item {
  background: var(--white);
  padding: 15px;
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  transition: 0.3s;
  border: 1px solid transparent;
  cursor: pointer;
  box-shadow: 0 2px 5px rgba(0,0,0,0.02);
}

.food-card-item:hover {
  transform: translateX(5px);
  border-color: var(--primary);
  box-shadow: 0 5px 15px rgba(0,0,0,0.05);
}

.f-icon {
  font-size: 24px;
  width: 50px;
  height: 50px;
  background: #F4F7F6;
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-right: 15px;
}

.f-info {
  flex: 1;
  text-align: left;
}

.f-info h4 {
  margin: 0;
  font-size: 16px;
  color: var(--dark);
}

.f-info small {
  color: #888;
  font-size: 12px;
}

.f-cal {
  font-weight: bold;
  color: var(--primary);
  background: #E8F5E9;
  padding: 5px 10px;
  border-radius: 8px;
  font-size: 12px;
}

/* --- 13. FOOD MODAL & BUTTONS --- */
.btn-add-mini {
  background-color: #1F2937;
  color: white;
  border: none;
  padding: 6px 16px;
  border-radius: 20px;
  font-size: 0.9rem;
  font-weight: 500;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 6px;
  transition: all 0.2s;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

.btn-add-mini:hover {
  background-color: #374151;
  transform: translateY(-1px);
}

.btn-add-food-main, .add-food-btn {
  width: 100%;
  padding: 15px;
  margin-top: 20px;
  background: var(--dark);
  color: white;
  border: none;
  border-radius: 15px;
  font-size: 16px;
  cursor: pointer;
  transition: 0.3s;
  box-shadow: 0 5px 15px rgba(46, 59, 85, 0.3);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
}

.btn-add-food-main:hover, .add-food-btn:hover {
  background: #1a253a;
  transform: translateY(-2px);
}

.modal-overlay {
  display: none;
  position: fixed;
  z-index: 1000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0,0,0,0.5);
  backdrop-filter: blur(4px);
  justify-content: center;
  align-items: center;
}

.modal-box {
  background: #F3F4F6;
  width: 90%;
  max-width: 420px;
  border-radius: 24px;
  padding: 24px;
  position: relative;
  box-shadow: 0 20px 25px -5px rgba(0,0,0,0.1);
  animation: slideUp 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  font-family: 'Kanit', sans-serif;
}

@keyframes slideUp {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

.search-bar {
  width: 100%;
  padding: 12px 16px;
  border-radius: 30px;
  border: none;
  background: #FFFFFF;
  font-size: 0.95rem;
  color: #4B5563;
  box-shadow: 0 1px 2px rgba(0,0,0,0.05);
  margin-bottom: 20px;
  box-sizing: border-box;
  outline: none;
}

.menu-item-card {
  background: white;
  border-radius: 16px;
  padding: 12px 16px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
  box-shadow: 0 1px 2px rgba(0,0,0,0.05);
}

.btn-add-red {
  background: #FF6B6B;
  color: white;
  width: 32px;
  height: 32px;
  border-radius: 50%;
  border: none;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.2rem;
  cursor: pointer;
  transition: 0.2s;
}

.btn-add-red:hover {
  background: #FF5252;
}

.manual-input, .form-input {
  background: #E5E7EB;
  border: none;
  border-radius: 12px;
  padding: 12px 16px;
  width: 100%;
  box-sizing: border-box;
  font-size: 1rem;
  color: #333;
  outline: none;
  font-family: 'Kanit', sans-serif;
  transition: all 0.2s;
}

.manual-input::placeholder, .form-input::placeholder {
  color: #9CA3AF;
}

.form-input:focus {
  border-color: #4facfe;
  background: #fff;
  box-shadow: 0 0 0 3px rgba(79, 172, 254, 0.1);
}

.btn-save-green {
  background: linear-gradient(90deg, #2DD4BF 0%, #0F766E 100%);
  color: white;
  border: none;
  padding: 14px;
  border-radius: 12px;
  font-size: 1rem;
  font-weight: bold;
  cursor: pointer;
  width: 100%;
  box-shadow: 0 4px 10px rgba(45, 212, 191, 0.3);
}

.switch-mode-btn {
  text-align: center;
  margin-top: 15px;
  color: #6B7280;
  font-size: 0.9rem;
  cursor: pointer;
  text-decoration: underline;
}

.input-group label {
  display: block;
  margin-bottom: 5px;
  font-size: 0.9rem;
  color: #666;
  font-weight: 500;
}
/* --- EXERCISE CARDS WITH IMAGES (Dashboard Mission) --- */
.exercise-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 15px;
    margin-bottom: 20px;
}

.exercise-card {
    background: white;
    border: 2px solid #E5E7EB;
    border-radius: 16px;
    overflow: hidden;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
}

.exercise-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(255, 107, 107, 0.2);
    border-color: #FF6B6B;
}

.exercise-card.completed {
    border-color: #10B981;
    background: linear-gradient(135deg, #D1FAE5 0%, #FFFFFF 100%);
}

.exercise-card.completed::after {
    content: '✓';
    position: absolute;
    top: 10px;
    right: 10px;
    background: #10B981;
    color: white;
    width: 28px;
    height: 28px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    font-size: 16px;
    box-shadow: 0 2px 8px rgba(16, 185, 129, 0.3);
}

.exercise-image {
    width: 100%;
    height: 140px;
    object-fit: cover;
}

.exercise-info {
    padding: 12px;
}

.exercise-name {
    font-size: 1rem;
    font-weight: 600;
    color: #111;
    margin-bottom: 6px;
}

.exercise-meta {
    font-size: 0.8rem;
    color: #6B7280;
    display: flex;
    align-items: center;
    gap: 8px;
}

.exercise-info .difficulty-badge {
    position: static;
    display: inline-block;
    padding: 3px 10px;
    border-radius: 12px;
    font-size: 0.7rem;
    font-weight: 600;
    margin-top: 6px;
    box-shadow: none;
}

.exercise-info .difficulty-badge.beginner {
    background: #DBEAFE;
    color: #1E40AF;
}

.exercise-info .difficulty-badge.intermediate {
    background: #FEF3C7;
    color: #92400E;
}

.exercise-info .difficulty-badge.advanced {
    background: #FEE2E2;
    color: #991B1B;
}

.exercise-info .difficulty-badge.cardio {
    background: #FCE7F3;
    color: #9F1239;
}
/* --- 14. EXERCISE PAGE --- */
.exercise-header {
  margin-bottom: 25px;
}

.workout-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 25px;
}

.workout-card {
  background: rgba(255, 255, 255, 0.95);
  border-radius: 15px;
  overflow: hidden;
  box-shadow: var(--shadow);
  transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
  cursor: pointer;
  position: relative;
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.6);
}

.workout-card:hover {
  transform: translateY(-7px);
  box-shadow: 0 12px 20px rgba(0,0,0,0.15);
}

.workout-img {
  position: relative;
  height: 200px;
  overflow: hidden;
}

.workout-img img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.5s ease;
}

.workout-card:hover .workout-img img {
  transform: scale(1.08);
}

.difficulty-badge {
  position: absolute;
  top: 15px;
  right: 15px;
  padding: 5px 12px;
  border-radius: 20px;
  font-size: 11px;
  font-weight: 600;
  color: white;
  text-transform: uppercase;
  box-shadow: 0 2px 5px rgba(0,0,0,0.2);
}

.difficulty-badge.beginner { background: linear-gradient(45deg, #4CAF50, #8BC34A); }
.difficulty-badge.intermediate { background: linear-gradient(45deg, #FFC107, #FF9800); }
.difficulty-badge.advanced { background: linear-gradient(45deg, #F44336, #E91E63); }
.difficulty-badge.cardio { background: linear-gradient(45deg, #FF5722, #FF9800); }

.workout-content {
  padding: 20px;
  position: relative;
}

.workout-content::before {
  content: '';
  position: absolute;
  top: 0;
  left: 20px;
  width: 40px;
  height: 4px;
  background: var(--primary);
  border-radius: 2px;
}

.workout-content h3 {
  margin: 10px 0 8px 0;
  font-size: 20px;
  font-weight: 700;
  color: var(--dark);
}

.workout-content p {
  margin: 0;
  font-size: 14px;
  color: #777;
  display: flex;
  align-items: center;
}

.workout-content p i {
  margin-right: 8px;
  color: var(--primary);
  font-size: 16px;
}

/* --- 15. WORKOUT MODAL --- */
.modal {
  display: none;
  position: fixed;
  z-index: 1000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0,0,0,0.6);
  backdrop-filter: blur(5px);
  animation: fadeIn 0.3s;
}

.modal-content {
  background-color: var(--white);
  margin: 10% auto;
  padding: 30px;
  border-radius: 20px;
  width: 90%;
  max-width: 500px;
  position: relative;
  box-shadow: 0 25px 50px rgba(0,0,0,0.3);
  animation: slideDown 0.4s;
}

@keyframes slideDown {
  from { transform: translateY(-50px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

.close-modal {
  color: #aaa;
  float: right;
  font-size: 28px;
  font-weight: bold;
  cursor: pointer;
  transition: 0.3s;
}

.close-modal:hover {
  color: var(--dark);
}

.modal-header {
  border-bottom: 2px solid #f0f0f0;
  padding-bottom: 15px;
  margin-bottom: 20px;
}

.modal-header h2 {
  margin: 0;
  color: var(--primary);
  font-size: 28px;
}

.badge-modal {
  background: var(--dark);
  color: white;
  padding: 4px 10px;
  border-radius: 10px;
  font-size: 12px;
  vertical-align: middle;
  margin-left: 10px;
}

.instruction-box {
  background: #F4F7F6;
  padding: 20px;
  border-radius: 15px;
  margin: 20px 0;
  border-left: 5px solid var(--primary);
}

.instruction-box h4 {
  margin-top: 0;
  color: var(--dark);
}

.tip {
  color: #888;
  font-size: 13px;
  font-style: italic;
  margin-top: 5px;
}

.start-btn {
  width: 100%;
  padding: 15px;
  background: linear-gradient(135deg, var(--primary) 0%, #2E7D32 100%);
  color: white;
  border: none;
  border-radius: 12px;
  font-size: 18px;
  font-weight: bold;
  cursor: pointer;
  transition: 0.3s;
  box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
  position: relative;
  overflow: hidden;
}

.start-btn::after {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 50%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
  transform: skewX(-20deg);
  animation: shine 3s infinite;
}

.start-btn:hover {
  background: #43A047;
  transform: scale(1.02);
}

/* --- 16. TIMER MODAL --- */
.modal-wrapper {
  display: none;
  position: fixed;
  z-index: 2000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  overflow: auto;
  background-color: rgba(0,0,0,0.7);
  align-items: center;
  justify-content: center;
  backdrop-filter: blur(5px);
}

.modal-content-timer {
  background-color: #fefefe;
  margin: auto;
  padding: 30px;
  border-radius: 20px;
  width: 90%;
  max-width: 450px;
  text-align: center;
  position: relative;
  box-shadow: 0 10px 25px rgba(0,0,0,0.2);
  animation: slideDown 0.3s ease-out;
}

.close-modal-timer {
  color: #aaa;
  position: absolute;
  top: 15px;
  right: 20px;
  font-size: 28px;
  font-weight: bold;
  cursor: pointer;
  transition: 0.2s;
}

.close-modal-timer:hover {
  color: #333;
}

.timer-display {
  font-size: 4rem;
  font-weight: 700;
  color: #333;
  margin: 20px 0;
  font-family: 'Poppins', sans-serif;
  letter-spacing: 2px;
}

.timer-btn {
  background: linear-gradient(135deg, #FF6B6B 0%, #FF8E53 100%);
  color: white;
  border: none;
  padding: 12px 30px;
  border-radius: 50px;
  font-size: 1.2rem;
  cursor: pointer;
  box-shadow: 0 5px 15px rgba(255, 107, 107, 0.4);
  transition: 0.3s;
  width: 100%;
}

.timer-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 20px rgba(255, 107, 107, 0.6);
}

.timer-btn.stop-mode {
  background: #dc3545;
  box-shadow: 0 5px 15px rgba(220, 53, 69, 0.4);
}

.instruction-box-timer {
  background: #f8f9fa;
  padding: 15px;
  border-radius: 10px;
  margin-top: 15px;
  text-align: left;
  font-size: 0.95rem;
  color: #555;
}

/* --- 17. STREAK & CALENDAR --- */
.section-header-flex {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 15px;
}

.streak-badge {
  background: linear-gradient(135deg, #FF9966 0%, #FF5E62 100%);
  color: white;
  padding: 2px 10px;
  border-radius: 20px;
  font-size: 0.85rem;
  font-weight: bold;
  display: flex;
  align-items: center;
  gap: 5px;
  box-shadow: 0 4px 10px rgba(255, 94, 98, 0.4);
  animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

.streak-fire {
  color: #fff;
  font-size: 1rem;
  animation: burn 1.5s infinite alternate;
}

@keyframes burn {
  0% { transform: scale(1); text-shadow: 0 0 4px #FFF, 0 -5px 10px #FFD700; }
  100% { transform: scale(1.2); text-shadow: 0 0 10px #FFF, 0 -10px 20px #FF4500; }
}

@keyframes popIn {
  from { transform: scale(0); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}

.calendar-wrapper {
  display: flex;
  justify-content: space-between;
  gap: 8px;
  margin-top: 10px;
  padding: 5px 2px;
  overflow-x: auto;
}

.day-card {
  flex: 1;
  background: #ffffff;
  border-radius: 14px;
  padding: 10px 5px;
  text-align: center;
  position: relative;
  cursor: pointer;
  transition: all 0.3s ease;
  border: 1px solid #eee;
  box-shadow: 0 4px 10px rgba(0,0,0,0.03);
  min-width: 50px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

.day-card:hover {
  transform: translateY(-3px);
  box-shadow: 0 8px 15px rgba(0,0,0,0.08);
  border-color: #ffe0b2;
}

.day-card .day-name {
  font-size: 0.75rem;
  color: #999;
  margin-bottom: 2px;
  text-transform: uppercase;
  font-weight: 500;
}

.day-card .day-num {
  font-size: 1.2rem;
  font-weight: 700;
  color: #333;
  margin-bottom: 4px;
  font-family: 'Poppins', sans-serif;
}

.status-dot {
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background-color: #eee;
}

.day-card.active {
  background: linear-gradient(135deg, #FF6B6B 0%, #FF8E53 100%);
  border: none;
  box-shadow: 0 5px 15px rgba(255, 107, 107, 0.4);
  transform: scale(1.05);
  z-index: 2;
}

.day-card.active .day-name,
.day-card.active .day-num {
  color: #fff !important;
  text-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.day-card.active .status-dot {
  background-color: #fff;
  box-shadow: 0 0 10px rgba(255,255,255,0.8);
}

.day-card.done {
  background-color: #e8f5e9;
  border-color: #c8e6c9;
}

.day-card.done .day-num {
  color: #2e7d32;
}

.day-card.done .status-dot {
  background-color: #28a745;
}

.day-card.missed {
  background-color: #ffebee;
  border-color: #ffcdd2;
}

.day-card.missed .day-num {
  color: #c62828;
}

.day-card.missed .status-dot {
  background-color: #dc3545;
}

@keyframes pulse-btn {
  0% { transform: scale(1); }
  50% { transform: scale(1.1); }
  100% { transform: scale(1); }
}

.pulse {
  animation: pulse-btn 2s infinite;
}

/* --- 18. FULL CALENDAR MODAL --- */
.view-all-btn {
  background: none;
  border: none;
  color: var(--primary);
  font-weight: 600;
  cursor: pointer;
  font-size: 0.9rem;
}

.modal-content-calendar {
  background-color: #fff;
  margin: auto;
  padding: 20px;
  border-radius: 15px;
  width: 95%;
  max-width: 400px;
  position: relative;
  animation: slideDown 0.3s;
}

.close-calendar {
  position: absolute;
  right: 20px;
  top: 15px;
  font-size: 24px;
  cursor: pointer;
  color: #aaa;
  z-index: 10;
}

.close-calendar:hover {
  color: #333;
}

.calendar-header-control {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
  margin-top: 10px;
}

.calendar-header-control h2 {
  font-size: 1.2rem;
  color: #333;
  margin: 0;
}

.calendar-header-control button {
  background: #f0f0f0;
  border: none;
  width: 35px;
  height: 35px;
  border-radius: 50%;
  cursor: pointer;
  color: #555;
  transition: 0.2s;
  font-size: 1.2rem;
}

.calendar-header-control button:hover {
  background: var(--primary);
  color: white;
}

.calendar-days-header {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  text-align: center;
  font-weight: bold;
  color: #555;
  font-size: 0.8rem;
  margin-bottom: 10px;
}

.calendar-grid {
  display: flex;
  flex-direction: column;
  gap: 12px;
  padding: 10px;
}

.week-row {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 5px;
  background: #f8f9fa;
  padding: 8px;
  border-radius: 12px;
}

.calendar-day, .cal-day-cell {
  aspect-ratio: 1/1;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  font-size: 0.9rem;
  cursor: pointer;
  transition: all 0.2s;
  height: 40px;
  position: relative;
}

.calendar-day:hover, .cal-day-cell:hover {
  background-color: #f9f9f9;
}

.calendar-day.today, .cal-day-cell.today {
  background-color: #e3f2fd;
  color: #1976d2;
  font-weight: bold;
  border: 1px solid #1976d2;
}

.calendar-day.done, .cal-day-cell.done {
  background-color: #d4edda;
  color: #155724;
  font-weight: bold;
}

.calendar-day.missed, .cal-day-cell.missed {
  background-color: #f8d7da;
  color: #721c24;
}

.cal-day-cell.empty {
  pointer-events: none;
  color: #ccc;
}

/* --- 19. MODERN CHART --- */
.chart-toggles {
  display: flex;
  gap: 10px;
  margin-bottom: 15px;
}

.chart-toggles .toggle-btn {
  background: none;
  border: 1px solid #ddd;
  padding: 5px 15px;
  border-radius: 20px;
  cursor: pointer;
  color: #666;
  font-size: 0.8rem;
  transition: 0.2s;
}

.chart-toggles .toggle-btn.active {
  background: #FF6B6B;
  color: #fff;
  border-color: #FF6B6B;
}

.segment-control {
  display: flex;
  position: relative;
  background: #f0f2f5;
  padding: 4px;
  border-radius: 20px;
  width: 160px;
  box-shadow: inset 0 2px 4px rgba(0,0,0,0.05);
}

.segment-control input {
  display: none;
}

.segment-control label {
  flex: 1;
  text-align: center;
  z-index: 2;
  cursor: pointer;
  font-size: 0.85rem;
  color: #888;
  padding: 6px 0;
  transition: color 0.3s;
  font-weight: 500;
}

.segment-glider {
  position: absolute;
  top: 4px;
  left: 4px;
  height: calc(100% - 8px);
  width: calc(50% - 4px);
  background: #fff;
  border-radius: 16px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
  transition: transform 0.3s cubic-bezier(0.68, -0.55, 0.27, 1.55);
  z-index: 1;
}

#seg-week:checked ~ .segment-glider {
  transform: translateX(0);
}

#seg-month:checked ~ .segment-glider {
  transform: translateX(100%);
}

#seg-week:checked + label,
#seg-month:checked + label {
  color: #333;
  font-weight: bold;
}

.modern-chart-container, .chart-container {
  display: flex;
  justify-content: space-around;
  align-items: flex-end;
  height: 180px;
  padding-top: 20px;
  padding-bottom: 10px;
  border-bottom: 1px solid #eee;
}

.chart-col, .chart-bar-box {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-end;
  height: 100%;
  width: 100%;
  position: relative;
  cursor: pointer;
  flex: 1;
}

.chart-bar {
  width: 25px;
  background: #e0e0e0;
  border-radius: 20px 20px 5px 5px;
  transition: all 0.3s ease;
  position: relative;
  animation: growBar 1s ease-out forwards;
  transform-origin: bottom;
}

.chart-bar.active {
  background: linear-gradient(to top, #4facfe 0%, #00f2fe 100%);
  box-shadow: 0 4px 10px rgba(79, 172, 254, 0.4);
}

.chart-bar.high {
  background: linear-gradient(to top, #ff9a9e 0%, #fecfef 99%, #fecfef 100%);
  box-shadow: 0 4px 10px rgba(255, 154, 158, 0.4);
}

.chart-col:hover .chart-bar {
  transform: scaleY(1.05);
  width: 28px;
  filter: brightness(1.1);
}

.chart-col:hover .chart-bar::after {
  content: attr(data-val);
  position: absolute;
  top: -25px;
  left: 50%;
  transform: translateX(-50%);
  background: #333;
  color: #fff;
  padding: 3px 6px;
  border-radius: 6px;
  font-size: 0.7rem;
  white-space: nowrap;
  z-index: 10;
  opacity: 1;
}

.day-label {
  margin-top: 8px;
  font-size: 0.8rem;
  color: #aaa;
  font-weight: 500;
}

.chart-col:hover .day-label {
  color: #333;
}

@keyframes growBar {
  from { transform: scaleY(0); opacity: 0; }
  to { transform: scaleY(1); opacity: 1; }
}

/* Legacy chart styles */
.chart-bar-box .bar {
  width: 12px;
  background: #e0e0e0;
  border-radius: 10px;
  transition: height 0.4s;
  margin-bottom: 5px;
}

.chart-bar-box .bar.active {
  background: #FF6B6B;
}

.chart-bar-box span {
  font-size: 0.7rem;
  color: #888;
}

/* --- 20. MINI CALENDAR --- */
.mini-calendar-header {
  text-align: center;
  margin-bottom: 15px;
  font-size: 1.1rem;
  color: #333;
}

.mini-calendar-grid {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 8px;
  text-align: center;
}

.mini-cal-day-name {
  font-size: 0.8rem;
  color: #aaa;
  margin-bottom: 5px;
  font-weight: 500;
}

.mini-cal-date {
  height: 35px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.9rem;
  color: #555;
  border-radius: 50%;
  transition: all 0.2s;
  position: relative;
  cursor: default;
}

.mini-cal-date.today {
  background: #fff;
  border: 1px solid #FF6B6B;
  color: #FF6B6B;
  font-weight: bold;
}

.mini-cal-date.workout-done {
  background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
  color: white;
  box-shadow: 0 2px 5px rgba(79, 172, 254, 0.4);
  font-weight: bold;
}

/* --- 21. WATER TRACKER --- */
.water-tracker-card {
  background: linear-gradient(180deg, #E3F2FD 0%, #FFFFFF 100%);
  border: 1px solid #BBDEFB;
  position: relative;
  overflow: hidden;
  padding: 20px;
  border-radius: var(--radius);
}

.water-container {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.glass-visual {
  width: 60px;
  height: 80px;
  border: 4px solid #42A5F5;
  border-top: none;
  border-radius: 0 0 15px 15px;
  position: relative;
  background: rgba(255,255,255,0.5);
  overflow: hidden;
}

.water-fill {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 60%;
  background: linear-gradient(to top, #2196F3, #64B5F6);
  transition: height 0.5s cubic-bezier(0.4, 0.0, 0.2, 1);
  opacity: 0.8;
}

.water-fill::before {
  content: '';
  position: absolute;
  width: 200%;
  height: 20px;
  background: rgba(255,255,255,0.3);
  bottom: 100%;
  left: -50%;
  border-radius: 40%;
  animation: wave 2s infinite linear;
}

@keyframes wave {
  0% { transform: translateX(0) rotate(0deg); }
  100% { transform: translateX(50%) rotate(360deg); }
}

.water-controls {
  text-align: right;
}

.water-btn-add {
  background: #2196F3;
  color: white;
  width: 35px;
  height: 35px;
  border-radius: 50%;
  border: none;
  font-size: 18px;
  cursor: pointer;
  box-shadow: 0 4px 10px rgba(33, 150, 243, 0.4);
  transition: 0.2s;
}

.water-btn-add:hover {
  transform: scale(1.1) rotate(90deg);
}

.water-text {
  font-size: 24px;
  font-weight: bold;
  color: #1565C0;
}

/* --- 22. PROFILE PAGE --- */
.profile-container {
  padding-bottom: 80px;
}

.profile-header-card {
  background: white;
  border-radius: 24px;
  overflow: hidden;
  box-shadow: 0 10px 30px rgba(0,0,0,0.08);
  margin-bottom: 20px;
  text-align: center;
  position: relative;
}

.profile-cover {
  height: 100px;
  background: linear-gradient(135deg, #FF9966, #FF5E62);
  width: 100%;
}

.profile-info-content {
  padding: 0 20px 25px;
  margin-top: -55px;
}

.avatar-wrapper {
  position: relative;
  width: 110px;
  height: 110px;
  margin: 0 auto 10px;
}

.avatar-circle {
  width: 100%;
  height: 100%;
  background: white;
  border-radius: 50%;
  padding: 4px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}

.avatar-circle i {
  width: 100%;
  height: 100%;
  background: #F3F4F6;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 3rem;
  color: #9CA3AF;
}

.btn-edit-pic {
  position: absolute;
  bottom: 5px;
  right: 5px;
  background: #3B82F6;
  color: white;
  border: 2px solid white;
  width: 32px;
  height: 32px;
  border-radius: 50%;
  cursor: pointer;
  box-shadow: 0 2px 5px rgba(0,0,0,0.2);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.8rem;
}

.user-name {
  margin: 5px 0;
  color: #1F2937;
  font-size: 1.4rem;
}

.user-badge {
  background: #EFF6FF;
  color: #3B82F6;
  padding: 4px 12px;
  border-radius: 20px;
  font-size: 0.8rem;
  font-weight: 500;
}

.stats-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 15px;
  margin-top: 25px;
}

.stat-box {
  background: #F9FAFB;
  padding: 15px;
  border-radius: 16px;
  border: 1px solid #F3F4F6;
}

.stat-box small {
  color: #6B7280;
  font-size: 0.8rem;
}

.stat-value {
  font-size: 1.5rem;
  font-weight: 700;
  color: #111;
  margin-top: 4px;
}

.unit {
  font-size: 0.9rem;
  font-weight: 400;
  color: #9CA3AF;
}

.settings-card {
  background: white;
  border-radius: 24px;
  padding: 24px;
  box-shadow: 0 5px 20px rgba(0,0,0,0.05);
}

.section-title {
  margin: 0 0 20px;
  font-size: 1.1rem;
  color: #374151;
}

.form-group {
  margin-bottom: 18px;
  text-align: left;
}

.form-group label {
  display: block;
  margin-bottom: 8px;
  font-weight: 500;
  color: #4B5563;
  font-size: 0.9rem;
}

.select-wrapper select {
  width: 100%;
  padding: 12px 15px;
  border: 1px solid #E5E7EB;
  border-radius: 12px;
  background-color: #F9FAFB;
  font-family: 'Kanit', sans-serif;
  color: #1F2937;
  outline: none;
  font-size: 0.95rem;
  appearance: none;
  background-image: url("data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%236B7280%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E");
  background-repeat: no-repeat;
  background-position: right 15px top 50%;
  background-size: 10px auto;
}

.select-wrapper select:focus {
  border-color: #3B82F6;
  background-color: white;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

.btn-save-profile {
  width: 100%;
  padding: 14px;
  border: none;
  border-radius: 14px;
  background: linear-gradient(to right, #10B981, #059669);
  color: white;
  font-weight: 600;
  font-size: 1rem;
  cursor: pointer;
  margin-top: 10px;
  box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
  transition: transform 0.1s;
}

.btn-save-profile:active {
  transform: scale(0.98);
}

.logout-link {
  text-align: center;
  margin-top: 20px;
  color: #EF4444;
  font-size: 0.9rem;
  cursor: pointer;
  font-weight: 500;
}

/* --- 23. LOGIN PAGE --- */
.login-body {
  display: flex;
  justify-content: center;
  align-items: center;
  background: linear-gradient(135deg, #a8e063 0%, #56ab2f 100%);
}

.login-container {
  background: var(--white);
  width: 100%;
  max-width: 400px;
  padding: 40px;
  border-radius: 20px;
  box-shadow: 0 10px 25px rgba(0,0,0,0.1);
  text-align: center;
}

.login-header .logo-icon {
  font-size: 50px;
  color: var(--primary);
  margin-bottom: 10px;
}

.input-group {
  position: relative;
  margin-bottom: 20px;
}

.input-group i {
  position: absolute;
  left: 15px;
  top: 50%;
  transform: translateY(-50%);
  color: #aaa;
}

.input-group input {
  width: 100%;
  padding: 12px 12px 12px 40px;
  border: 1px solid #ddd;
  border-radius: 8px;
  outline: none;
  transition: 0.3s;
}

.input-group input:focus {
  border-color: var(--primary);
}

.login-btn {
  width: 100%;
  padding: 12px;
  background: linear-gradient(135deg, var(--primary) 0%, #2E7D32 100%);
  color: white;
  border: none;
  border-radius: 8px;
  font-size: 16px;
  cursor: pointer;
  transition: 0.3s;
  box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
  position: relative;
  overflow: hidden;
}

.login-btn::after {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 50%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
  transform: skewX(-20deg);
  animation: shine 3s infinite;
}

.login-btn:hover {
  background: #43A047;
}

.footer-text {
  margin-top: 20px;
  font-size: 12px;
}

/* --- 24. LANDING PAGE --- */
.landing-hero {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 50px;
  background: white;
  border-radius: 20px;
  box-shadow: var(--shadow);
  margin-top: 20px;
}

.hero-text h1 {
  font-size: 36px;
  color: var(--primary);
  margin-bottom: 15px;
}

.hero-text p {
  font-size: 16px;
  color: #666;
  margin-bottom: 30px;
  line-height: 1.6;
}

.feature-list {
  list-style: none;
  margin-bottom: 30px;
}

.feature-list li {
  margin-bottom: 10px;
  font-size: 18px;
  color: var(--dark);
}

.feature-list li i {
  color: var(--primary);
  margin-right: 10px;
  width: 25px;
}

.cta-btn {
  padding: 15px 40px;
  background: var(--primary);
  color: white;
  font-size: 20px;
  border: none;
  border-radius: 30px;
  cursor: pointer;
  box-shadow: 0 5px 15px rgba(76, 175, 80, 0.4);
  transition: 0.3s;
}

.cta-btn:hover {
  transform: translateY(-3px);
  background: #43A047;
}

/* --- 25. ONBOARDING WIZARD --- */
.wizard-modal {
  display: none;
  position: fixed;
  z-index: 2000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background: rgba(46, 59, 85, 0.9);
  backdrop-filter: blur(8px);
  align-items: center;
  justify-content: center;
}

.wizard-container {
  background: white;
  width: 90%;
  max-width: 600px;
  padding: 40px;
  border-radius: 20px;
  box-shadow: 0 20px 50px rgba(0,0,0,0.3);
  animation: slideUp 0.5s;
}

.progress-bar-bg {
  width: 100%;
  height: 8px;
  background: #eee;
  border-radius: 4px;
  margin-bottom: 20px;
  overflow: hidden;
}

.progress-bar-fill {
  height: 100%;
  background: var(--primary);
  width: 33%;
  transition: 0.3s;
}

.wizard-step {
  display: none;
  animation: fadeIn 0.4s;
}

.wizard-step.active {
  display: block;
}

.input-group-wizard {
  margin-bottom: 15px;
  text-align: left;
}

.input-group-wizard label {
  display: block;
  margin-bottom: 5px;
  font-weight: bold;
}

.input-group-wizard input,
.input-group-wizard select {
  width: 100%;
  padding: 12px;
  border: 2px solid #eee;
  border-radius: 10px;
  font-size: 16px;
}

.grid-2 {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 15px;
}

.selection-grid {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: 10px;
  margin-top: 10px;
}

.select-card {
  border: 2px solid #eee;
  border-radius: 10px;
  padding: 15px;
  text-align: center;
  cursor: pointer;
  transition: 0.2s;
}

.select-card:hover {
  border-color: var(--primary);
  background: #f9fff9;
}

.select-card.selected {
  border-color: var(--primary);
  background: var(--primary);
  color: white;
}

.select-card i {
  display: block;
  font-size: 24px;
  margin-bottom: 5px;
}
.wizard-footer{
  width: 100%;
  display: flex;
  gap: 12px;
  justify-content: flex-end;
  align-items: center;
  margin-top: 24px;
}

/* ถ้า footer อยู่ใน grid ให้กินเต็มแถว */
.grid-2 .wizard-footer,
.selection-grid .wizard-footer{
  grid-column: 1 / -1;
}

/* กันปุ่มโดน margin จากที่อื่น */
.wizard-footer button{
  margin: 0 !important;
}

/* ปรับขนาดปุ่มให้เท่ากันสวย */
.wizard-footer .btn-primary,
.wizard-footer .btn-secondary{
  min-width: 120px;
}

.wizard-footer .btn-success{
  min-width: 180px;
}
.btn-primary,
.btn-secondary,
.btn-success {
  padding: 10px 25px;
  border-radius: 8px;
  border: none;
  cursor: pointer;
  font-size: 16px;
}

.btn-primary {
  background: var(--dark);
  color: white;
}

.btn-secondary {
  background: #eee;
  color: #555;
}

.btn-success {
  background: var(--primary);
  color: white;
  width: 100%;
}

/* --- 26. RIGHT PANEL --- */
.right-panel {
  width: 300px;
  background: rgba(255, 255, 255, 0.95);
  padding: 30px;
  border-left: 1px solid #eee;
  display: flex;
  flex-direction: column;
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.6);
}

.right-panel h3 {
  margin-bottom: 30px;
}

.right-panel label {
  display: block;
  margin-top: 20px;
  font-weight: 600;
}

.right-panel input[type="range"] {
  width: 100%;
  margin-top: 10px;
  accent-color: var(--primary);
}

/* --- 27. MISC COMPONENTS --- */
.summary-card {
  display: flex;
  justify-content: space-between;
  align-items: center;
  text-align: left;
  background: var(--dark);
  color: white;
  cursor: default;
  padding: 20px;
  border-radius: var(--radius);
}

.summary-card:hover {
  transform: none;
}

.summary-card p {
  color: #ccc;
}

.summary-card i {
  color: rgba(255,255,255,0.2);
  font-size: 60px;
  margin: 0;
}

.tag {
  background: var(--primary);
  padding: 4px 10px;
  border-radius: 20px;
  font-size: 10px;
  color: white;
}

.nutrition-card {
  display: flex;
  justify-content: space-around;
  margin-top: 20px;
  cursor: default;
  padding: 20px;
  background: var(--white);
  border-radius: var(--radius);
}

.nutrition-card:hover {
  transform: none;
}

.nutri span {
  font-size: 12px;
  color: #888;
}

.food-list {
  text-align: left;
  margin-top: 20px;
  cursor: default;
  background: var(--white);
  padding: 20px;
  border-radius: var(--radius);
}

.food-list:hover {
  transform: none;
}

.food-item {
  display: flex;
  justify-content: space-between;
  padding: 12px 0;
  border-bottom: 1px solid #eee;
}

.add-btn {
  width: 100%;
  padding: 10px;
  margin-top: 15px;
  background: linear-gradient(135deg, var(--primary) 0%, #2E7D32 100%);
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
  position: relative;
  overflow: hidden;
}

.add-btn::after {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 50%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
  transform: skewX(-20deg);
  animation: shine 3s infinite;
}

.nutrition-overview {
  display: flex;
  gap: 30px;
  align-items: center;
}

.macro-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 15px;
  flex: 1;
}

.macro-box {
  padding: 15px;
  border-radius: 10px;
  background: #f8f9fa;
  text-align: center;
}

.macro-box.protein {
  color: #4facfe;
  background: #eaf6ff;
}

.macro-box.carbs {
  color: #ff9a9e;
  background: #fff0f1;
}

.macro-box.fat {
  color: #f6d365;
  background: #fffbf0;
}

.macro-box.fiber {
  color: #4CAF50;
  background: #e8f5e9;
}

.macro-box i {
  font-size: 20px;
  margin-bottom: 5px;
}

.macro-box h4 {
  font-size: 18px;
  margin: 0;
}

.meal-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 0;
  border-bottom: 1px solid #eee;
}

.meal-time {
  width: 60px;
  font-weight: bold;
  color: var(--primary);
}

.meal-detail {
  flex: 1;
  text-align: left;
}

.check-btn {
  background: #eee;
  border: none;
  width: 30px;
  height: 30px;
  border-radius: 50%;
  color: #aaa;
  cursor: pointer;
}

.check-btn:hover {
  background: var(--primary);
  color: white;
}

.workout-playlist-mini {
  display: flex;
  flex-direction: column;
  gap: 10px;
  margin-bottom: 15px;
}

.wp-item {
  display: flex;
  align-items: center;
  background: #f9f9f9;
  padding: 10px;
  border-radius: 10px;
}

.wp-item img {
  width: 50px;
  height: 50px;
  border-radius: 8px;
  object-fit: cover;
  margin-right: 15px;
}

.wp-info {
  flex: 1;
  text-align: left;
}

.wp-status {
  font-size: 10px;
  background: #ddd;
  padding: 3px 8px;
  border-radius: 10px;
}
.wp-item{
  cursor: pointer;
  transition: transform .15s ease, box-shadow .15s ease, background .15s ease;
}
.wp-item:hover{
  transform: translateY(-2px);
  background: #fff;
  box-shadow: 0 8px 18px rgba(0,0,0,.08);
}
.start-workout-btn {
  width: 100%;
  padding: 12px;
  background: var(--dark);
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
}

/* --- 28. RESPONSIVE --- */
@media (max-width: 768px) {
  .dashboard-layout {
    grid-template-columns: 1fr;
  }

  .nutrition-hero {
    flex-direction: column;
    gap: 25px;
    text-align: center;
  }

  .edit-target-btn {
    position: static;
    margin-bottom: 10px;
    display: inline-block;
  }

  .landing-hero {
    flex-direction: column;
    text-align: center;
  }

  .calendar-wrapper {
    justify-content: flex-start;
  }

  .day-card {
    min-width: 70px;
  }
}

@media (max-width: 480px) {
  .calendar-wrapper {
    justify-content: flex-start;
  }

  .day-card {
    min-width: 70px;
  }
}
/* ✅ FORCE ปุ่มไปขวา + กันชนกับ grid */
.wizard-footer{
  width: 100%;
  display: flex;
  justify-content: flex-end !important;
  align-items: center;
  gap: 12px;
  margin-top: 24px;
}
.month-row{
  display:flex;
  align-items:center;
  gap:12px;
  flex-wrap:wrap;
}

.month-hint{
  font-size: 13px;
  opacity: .8;
}

.month-calendar{
  margin-top: 12px;
  display:grid;
  grid-template-columns: repeat(7, 1fr);
  gap:10px;
}

.cal-head{
  font-size: 12px;
  font-weight: 600;
  opacity: .8;
  text-align:center;
}

.cal-day{
  padding: 12px 0;
  border-radius: 14px;
  border: 1px solid rgba(0,0,0,.08);
  background: #fff;
  text-align:center;
  cursor:pointer;
  user-select:none;
}

.cal-day.muted{
  opacity:.35;
  cursor: default;
}

.cal-day.selected{
  background: #ff6b6b;
  color:#fff;
  border-color: transparent;
}

.mission-box{
  background:#fff;
  border-radius:16px;
  padding:14px;
  border:1px solid #eee;
}

/* tabs top */
.mission-tabs-2{
  display:flex;
  gap:10px;
  border-bottom:1px solid #eee;
  padding-bottom:10px;
  margin-bottom:10px;
}

.tab-btn{
  border:none;
  background:transparent;
  padding:8px 14px;
  border-radius:10px 10px 0 0;
  cursor:pointer;
  color:#999;
  font-weight:600;
  display:flex;
  align-items:center;
  gap:8px;
  font-family:'Kanit',sans-serif;
}

.tab-btn.active{
  color:#ff5c5c;
  background:#fff2f2;
}

/* panels */
.tab-panel{ display:none; }
.tab-panel.active{ display:block; }

/* list */
.list{
  display:flex;
  flex-direction:column;
}

.list-item{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:14px 8px;
  border-bottom:1px solid #f0f0f0;
}

.list-item:last-child{ border-bottom:none; }

.left{
  display:flex;
  align-items:center;
  gap:12px;
  min-width:0;
}

.icon{
  width:42px;
  height:42px;
  border-radius:10px;
  background:#f6f6f6;
  display:flex;
  align-items:center;
  justify-content:center;
  overflow:hidden;
  flex:0 0 42px;
}

.icon img{
  width:100%;
  height:100%;
  object-fit:cover;
}

.text{
  min-width:0;
}

.title{
  font-weight:700;
  color:#111;
  font-size:16px;
  line-height:1.2;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

.sub{
  margin-top:4px;
  font-size:12px;
  color:#888;
}

/* radio circle right */
.pick{
  width:20px;
  height:20px;
  border-radius:50%;
  border:2px solid #ddd;
  display:flex;
  align-items:center;
  justify-content:center;
  flex:0 0 20px;
}

.list-item.selected .pick{
  border-color:#ff5c5c;
}

.pick::after{
  content:"";
  width:10px;
  height:10px;
  border-radius:50%;
  background:#ff5c5c;
  transform:scale(0);
  transition:.15s;
}

.list-item.selected .pick::after{
  transform:scale(1);
}


.wizard-footer button{ margin: 0 !important; }
.wizard-footer .btn-primary,
.wizard-footer .btn-secondary{ min-width: 120px; }
.wizard-footer .btn-success{ min-width: 180px; }
.nav-btn .tooltip { pointer-events: none; }
.workout-content::before { pointer-events: none; }
.difficulty-badge { pointer-events: none; }
.workout-card * { user-select: none; }
.workout-img img { display:block; }


/* ===== FOOD LIBRARY GRID ===== */

.food-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
  gap: 24px;
  margin-top: 20px;
}

.food-card {
  background: #fff;
  border-radius: 18px;
  overflow: hidden;
  box-shadow: 0 10px 25px rgba(0,0,0,0.06);
  transition: 0.25s ease;
}

.food-card:hover {
  transform: translateY(-6px);
}

.food-card img {
  width: 100%;
  height: 200px;
  object-fit: cover;
  display: block;
}

.food-card-body {
  padding: 16px;
}

.food-card-body h3 {
  margin: 0 0 8px;
  font-size: 18px;
}

.food-card-body p {
  margin: 0;
  font-weight: 600;
}

/* ===== Mission Tabs ===== */
.tab-content {
  display: none;
}

.tab-content.active {
  display: block;
}

.mission-tab.active {
  background: #ff6b6b;
  color: white;
}

.meal-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 20px;
  margin-top: 15px;
}

.meal-card {
  background: #fff;
  border-radius: 18px;
  overflow: hidden;
  box-shadow: 0 10px 25px rgba(0,0,0,0.08);
  cursor: pointer;
  transition: 0.3s;
}

.meal-card:hover {
  transform: translateY(-5px);
}

.meal-img {
  width: 100%;
  height: 180px;
  object-fit: cover;
}

.meal-info {
  padding: 15px;
}

.meal-info h4 {
  margin: 0;
  font-size: 14px;
  color: #888;
}

.meal-name {
  margin: 5px 0;
  font-weight: 600;
}

.meal-cal {
  font-size: 14px;
  color: #4CAF50;
  font-weight: bold;
}

.meal-dashboard-grid {
  display: flex;
  flex-direction: column;
  gap: 16px;
  margin-top: 16px;
}

.meal-dashboard-card {
  display: flex;
  align-items: center;
  gap: 16px;
  padding: 14px;
  background: #fff;
  border-radius: 16px;
  box-shadow: 0 4px 15px rgba(0,0,0,0.05);
  cursor: pointer;
  transition: 0.2s;
}

.meal-dashboard-card:hover {
  transform: translateY(-3px);
}

.meal-thumb {
  width: 100px;
  height: 80px;
  object-fit: cover;
  border-radius: 12px;
}

.meal-info h4 {
  margin: 0;
  font-size: 14px;
  color: #888;
}

.meal-name {
  margin: 4px 0;
  font-weight: 600;
}

.meal-cal {
  color: #10B981;
  font-weight: 500;
}

.meal-popup {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.5);
  display: none;
  justify-content: center;
  align-items: center;
  padding: 15px;
  z-index: 9999;
  backdrop-filter: blur(6px);
}

.meal-popup-card {
  background: #fff;
  width: 600px;          /* ขยายใหญ่ขึ้น */
  max-width: 90%;
  max-height: 90vh;
  border-radius: 20px;
  padding: 25px;
  position: relative;
  overflow-y: auto;
  box-shadow: 0 25px 60px rgba(0,0,0,0.3);
}

.popup-img {
  width: 100%;
  height: 280px;
  object-fit: cover;
  border-radius: 16px;
  display: block;
}

.popup-macro {
  display: flex;
  justify-content: space-between;
  margin: 15px 0;
  font-size: 14px;
}
.popup-macro span{
  background: #F3F4F6;
  padding: 6px 10px;
  border-radius: 10px;
}

.popup-actions {
  display: flex;
  gap: 10px;
  margin-top: 15px;
}

.popup-actions button {
  flex: 1;
  padding: 10px;
  border-radius: 12px;
  border: none;
  cursor: pointer;
  font-weight: 500;
}

.popup-actions .primary {
  background: #10B981;
  color: white;
}

.close-popup {
  position: absolute;
  top: 10px;
  right: 15px;
  font-size: 22px;
  cursor: pointer;
}

@keyframes popupFade {
  from { transform: scale(0.9); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}

.meal-dashboard-card {
  position: relative;
}

.saved-badge {
  position: absolute;
  top: 8px;
  right: 8px;
  background: #10B981;
  color: white;
  font-size: 12px;
  width: 24px;
  height: 24px;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  font-weight: bold;
  box-shadow: 0 3px 8px rgba(0,0,0,0.2);
}

.meal-option img {
  width: 100%;
  height: 180%;
  object-fit: cover;
  border-radius: 12px;
  display: block;
}

.meal-popup-card img {
  width: 100%;
  object-fit: cover;
}

.meal-list img {
  height: 220px;
  object-fit: cover;
  border-radius: 12px;
}

.modal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.5);
  display: flex;
  justify-content: center;
  align-items: center;
}

.hidden {
  display: none;
}

.modal-content {
  background: white;
  padding: 20px;
  border-radius: 12px;
  width: 350px;
  max-height: 90vh;
  overflow-y: auto;
  text-align: center;
}

.modal-img {
  width: 100%;
  border-radius: 10px;
  margin-bottom: 15px;
}

.close-btn {
  float: right;
  cursor: pointer;
  font-size: 20px;
}

.start-btn {
  margin-top: 15px;
  padding: 10px 20px;
  background: #4CAF50;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
}